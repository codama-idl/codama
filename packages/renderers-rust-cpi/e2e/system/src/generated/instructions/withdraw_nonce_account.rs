//! This code was AUTOGENERATED using the codama library.
//! Please DO NOT EDIT THIS FILE, instead use visitors
//! to add features, then rerun codama to update it.
//!
//! <https://github.com/codama-idl/codama>
//!

/// `withdraw_nonce_account` CPI helper.
pub struct WithdrawNonceAccount<'a> {
    pub nonce_account: &'a pinocchio::account_info::AccountInfo,

    pub recipient_account: &'a pinocchio::account_info::AccountInfo,

    pub recent_blockhashes_sysvar: &'a pinocchio::account_info::AccountInfo,

    pub rent_sysvar: &'a pinocchio::account_info::AccountInfo,

    pub nonce_authority: &'a pinocchio::account_info::AccountInfo,
    pub withdraw_amount: u64,
}

impl<'a> WithdrawNonceAccount<'a> {
    #[inline(always)]
    pub fn invoke(&self) -> pinocchio::ProgramResult {
        self.invoke_signed(&[])
    }

    pub fn invoke_signed(
        &self,
        _signers: &[pinocchio::instruction::Signer],
    ) -> pinocchio::ProgramResult {
        // account metadata
        let account_metas: [pinocchio::instruction::AccountMeta; 5] = [
            pinocchio::instruction::AccountMeta::new(self.nonce_account.key(), true, false),
            pinocchio::instruction::AccountMeta::new(self.recipient_account.key(), true, false),
            pinocchio::instruction::AccountMeta::new(
                self.recent_blockhashes_sysvar.key(),
                false,
                false,
            ),
            pinocchio::instruction::AccountMeta::new(self.rent_sysvar.key(), false, false),
            pinocchio::instruction::AccountMeta::new(self.nonce_authority.key(), false, true),
        ];

        Ok(())
    }
}
